{% extends "quaz_base.html" %}
{% block content %}
  <div class="card">
    <div class="card-header">
      <h2>게시물 목록 (최신글이 맨 위)</h2>
      <div class="muted">
        {% if q %}
          검색어: "{{ q }}" · 결과 {{ posts|length }}개
        {% else %}
          총 {{ posts|length }}개
        {% endif %}
      </div>
    </div>
    <table class="table">
      <thead>
        <tr>
          <th style="width:84px;">번호</th>
          <th>제목</th>
          <th style="width:160px;">작성일</th>
          <th style="width:90px;">조회수</th>
        </tr>
      </thead>
      <tbody>
        {% if posts %}
          {% for p in posts %}
            <tr>
              <td class="muted">{{ p.id }}</td>
              <td>
                <a class="title-link" href="{{ url_for('quaz_post_detail', post_id=p.id) }}">{{ p.title }}</a>
              </td>
              <td class="muted">{{ p.created_at }}</td>
              <td class="muted">{{ p.views }}</td>
            </tr>
          {% endfor %}
        {% else %}
          <tr>
            <td colspan="4" class="muted">아직 게시물이 없습니다. 우측 상단의 글쓰기 버튼으로 첫 글을 작성해보세요.</td>
          </tr>
        {% endif %}
      </tbody>
    </table>
  </div>
{% endblock %}

